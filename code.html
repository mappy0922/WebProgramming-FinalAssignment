<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>コード表示</title>
  <link href="style/style3.css" rel="stylesheet" />
</head>
<body>

<h2 class="code">JavaScriptの全体コード</h2>
<pre id="codeView"></pre>

<script>
/* ←ここにコードを貼る（バッククォート内） */
const code = `
import { useState } from "react";
/*PowerShellでrechartsをダウンロードしてください*/
import {
  Radar, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis,
  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend
} from "recharts";

/* --- モンスターデータ --- */
const monsters = [
  {
    name: "一般人",
    image: "monsters/人間/一般人.png",
    base: { h: 50, a: 70, d: 53, ma: 35, md: 45, s: 70} /*ステータス*/
  },
  {
    name: "有名人",
    image: "monsters/人間/有名人.jpg",
    base: { h: 50, a: 120, d: 53, ma: 35, md: 110, s: 87 }
  },
  {
    name: "コーギー",
    image: "monsters/犬/コーギー.jpg",
    base: { h: 45, a: 65, d: 40, ma: 30, md: 40, s: 60 }
  },
  {
    name: "シャム",
    image: "monsters/猫/シャム.jpg",
    base: { h: 40, a: 61, d: 54, ma: 45, md: 45, s: 65 }
  }
];

/* --- 持ち物補正 --- */
const itemBonus = {
  "なし": { h: 1, a: 1, d: 1, ma: 1, md: 1, s: 1 },
  "ボクサーグローブ": { h: 1, a: 1.5, d: 1, ma: 1, md: 1, s: 1 },
  "ふつうのたて": { h: 1, a: 1, d: 1.5, ma: 1, md: 1, s: 1 },
  "スーツ": { h: 2, a: 1, d: 1.4, ma: 1, md: 1.2, s: 0.9 },
  "しゅんそくブーツ": { h: 1, a: 1, d: 1, ma: 1, md: 1, s: 1 },
  "ほねのおもちゃ": { h: 1.4, a: 1.3, d: 1, ma: 1, md: 1, s: 1.1 },
  "おうかんバンダナ": { h: 1.8, a: 1.4, d: 1.4, ma: 1, md: 1.3, s: 1.3 },
  "リード": { h: 1, a: 1.2, d: 1.2, ma: 1, md: 1, s: 1 },
  "ねこじゃらし": { h: 1, a: 1.2, d: 1, ma: 1.3, md: 1, s: 1.4 },
  "キャットタワー": { h: 2, a: 1, d: 1.4, ma: 1, md: 1.2, s: 0.8 },
  "プラチナゆびわ": { h: 1.6, a: 1.3, d: 1.4, ma: 1.4, md: 1.4, s: 1.4 }
};

/* --- 性格補正 --- */
const personalityBonus = {
  "せっかち": { a: 1, d: 0.5, ma: 1, md: 1, s: 1.5 },
  "おだやか": { a: 0.5, d: 1, ma: 1, md: 1.5, s: 1 },
  "れいせい": { a: 1, d: 1, ma: 1.5, md: 1, s: 0.5 },
  "ゆうかん": { a: 1.5, d: 1, ma: 1, md: 1, s: 0.5 },
  "やんちゃ": { a: 1.5, d: 1, ma: 1, md: 0.5, s: 1 },
  "すばしっこい": { a: 1, d: 1, ma: 0.5, md: 1, s: 1.5 },
  "きまぐれ": { a: 1, d: 1, ma: 1, md: 0.5, s: 1.5 },
  "おとなしい": { a: 0.5, d: 1, ma: 1, md: 1.5, s: 0.5 },
  "インテリ": { a: 1, d: 0.5, ma: 1.5, md: 1, s: 1 },
  "しなやか": { a: 1, d: 1.5, ma: 1, md: 0.5, s: 1.5 }
};

const itemDescription = {
  "なし": "補正なし",
  "ボクサーグローブ": "攻撃力が上昇",
  "ふつうのたて": "防御力が上昇",
  "スーツ": "HP・防御が上がるが素早さ低下",
  "しゅんそくブーツ": "人間は素早さUP、それ以外はDOWN",
  "ほねのおもちゃ": "HP・攻撃・素早さが上昇",
  "おうかんバンダナ": "全体的に強化",
  "リード": "攻撃・防御UP",
  "ねこじゃらし": "魔法攻撃・素早さUP",
  "キャットタワー": "HP・防御UP、素早さDOWN",
  "プラチナゆびわ": "ほぼ全能力強化"
};

const personalityDescription = {
  "せっかち": "防御DOWN、素早さUP",
  "おだやか": "攻撃DOWN、魔法防御UP",
  "れいせい": "素早さDOWN、魔法攻撃UP",
  "ゆうかん": "素早さDOWN、攻撃UP",
  "やんちゃ": "魔法防御DOWN、攻撃UP",
  "すばしっこい": "魔法攻撃DOWN、素早さUP",
  "きまぐれ": "魔法防御DOWN、素早さUP",
  "おとなしい": "攻撃DOWN、魔法防御UP (素早さも微減)",
  "インテリ": "防御DOWN、魔法攻撃UP",
  "しなやか": "魔法防御DOWN、防御UP、素早さUP"
};

/* --- モンスターごとの選択可能な持ち物と性格 --- */
const monsterOptions = {
  "一般人": {
    items: ["なし", "ボクサーグローブ", "ふつうのたて", "スーツ", "しゅんそくブーツ"],
    personalities: ["せっかち", "おだやか", "れいせい", "ゆうかん"]
  },
  "有名人": {
    items: ["なし", "ボクサーグローブ", "ふつうのたて", "スーツ", "しゅんそくブーツ"],
    personalities: ["せっかち", "おだやか", "れいせい", "ゆうかん"]
  },
  "コーギー": {
    items: ["なし", "しゅんそくブーツ", "ほねのおもちゃ", "おうかんバンダナ", "リード"],
    personalities: ["やんちゃ", "せっかち", "ゆうかん", "すばしっこい"]
  },
  "シャム": {
    items: ["なし", "ねこじゃらし", "しゅんそくブーツ", "キャットタワー", "プラチナゆびわ"],
    personalities: ["インテリ", "しなやか", "きまぐれ", "おとなしい"]
  }
};

export default function App() {
  const [selected, setSelected] = useState(monsters[0]);
  const [level, setLevel] = useState(1);
  const [item, setItem] = useState(monsterOptions["一般人"].items[0]);
  const [personality, setPersonality] = useState(monsterOptions["一般人"].personalities[0]);
  const [graphType, setGraphType] = useState("radar");

  const statLabel = { h: "HP", a: "A", d: "D", ma: "MA", md: "MD", s: "S" };

  /* --- ステータス計算（HP別式 + 特殊効果） --- */
  const calcStats = () =>
    Object.keys(selected.base).map((key) => {
      const baseVal = selected.base[key];
      const itemB = itemBonus[item]?.[key] ?? 1;
      const persB = personalityBonus[personality]?.[key] ?? 1;

      let value;
      if (key === "h") {
        value = Math.floor(baseVal * level / 100 + level + 10 * itemB); /*HP専用計算式*/
      } else {
        value = Math.floor((baseVal * level / 100 + 5) * itemB * persB); /*それ以外の計算式*/
      }

      /* しゅんそくブーツ効果 */
      if (item === "しゅんそくブーツ" && key === "s") {
        if (selected.name === "有名人" || selected.name === "一般人") {
          value = Math.floor(value * 1.5); /* 人間だけすばやさUP*/
        } else {
          value = Math.floor(value * 0.5); /* それ以外はすばやさDOWN*/
        }
      }

      return { stat: statLabel[key], value };
    });

  const result = calcStats();

  return (
    <div className="top">
      <h1 className="title">ステータスシミュレーター</h1>
      
      {/* --- モンスターカードUI --- */}
      <div className="monster-cards">
        {monsters.map((m) => (
          <div
            key={m.name}
            className={\`monster-card \${selected.name === m.name ? "active" : ""}\`}
            onClick={() => {
              setSelected(m);
              setItem(monsterOptions[m.name].items[0]);
              setPersonality(monsterOptions[m.name].personalities[0]);
            }}
          >
            <img src={m.image} alt={m.name} />
            <h3>{m.name}</h3>
            <div className="mini-stats">
              <span>HP {m.base.h}</span>
              <span>A {m.base.a}</span>
              <span>D {m.base.d}</span>
              <span>MA {m.base.ma}</span>
              <span>MD {m.base.md}</span>
              <span>S {m.base.s}</span>
            </div>
          </div>
        ))}
      </div>

      <div className="level-and-belongings">
        <div className="level-value">LV {level}</div>
        <input
          type="range"
          min="1"
          max="100"
          value={level}
          onChange={(e) => setLevel(Number(e.target.value))}
          className="level"
        />

        <div className="belongings-list">持ち物</div>
        <div className="tooltip-wrapper">
          <select className="belongings" value={item} onChange={(e) => setItem(e.target.value)}>
            {monsterOptions[selected.name].items.map(i => 
              <option key={i}>{i}</option>
            )}
          </select>
          <div className="tooltip">{itemDescription[item]}</div>
        </div>

        <div className="personality-list">性格</div>
        <div className="tooltip-wrapper">
          <select className="personality" value={personality} onChange={(e) => setPersonality(e.target.value)}>
            {monsterOptions[selected.name].personalities.map(p => 
              <option key={p}>{p}</option>
            )}
          </select>
          <div className="tooltip">{personalityDescription[personality]}</div>
        </div>
      </div>

      <div className="graph-toggle">
        {[
          { key: "radar", label: "レーダー" },
          { key: "bar", label: "棒グラフ" },
          { key: "table", label: "数値" }
        ].map((btn) => (
          <button
            key={btn.key}
            onClick={() => setGraphType(btn.key)}
            className={\`toggle-btn \${graphType === btn.key ? "active" : ""}\`}
          >
            {btn.label}
          </button>
        ))}
      </div>


      <div className="graph">
        {graphType === "radar" ? (
          <RadarChart width={550} height={350} data={result}>
            <PolarGrid />
            <PolarAngleAxis dataKey="stat" />
            <PolarRadiusAxis angle={30} domain={[0, 200]} />
            <Radar name="value" dataKey="value" stroke="#8884d8" fill="#8884d8" fillOpacity={0.6} />
            <Legend />
          </RadarChart>
        ) : graphType === "bar" ? (
          <BarChart width={600} height={350} data={result}>
            <CartesianGrid strokeDasharray="3 3" />
            <XAxis dataKey="stat" />
            <YAxis />
            <Tooltip />
            <Legend />
            <Bar dataKey="value" fill="#8884d8" />
          </BarChart>
        ) : (
          <div className="Numerical-display">
            {result.map((r) => (
              <div key={r.stat} className="line-by-line">
                <span className="font-bold">{r.stat}:</span>
                <span>{r.value}</span>
              </div>
            ))}
          </div>
        )}
      </div>
    </div>
  );
}

`;
document.getElementById("codeView").textContent = code;
</script>

<h2 class="code2">cssの全体コード</h2>
<pre id="codeView2"></pre>

<script>
/* ←ここにコードを貼る（バッククォート内） */
const code2 = `
h1{
    font-size: 50px;
    text-align: center;
    margin-bottom: 50px;
}

img {
  display: block;       /* imgをブロック要素に変換 */
  margin-left: auto;    /* 左余白を自動 */
  margin-right: auto;   /* 右余白を自動 */
  margin-bottom: 50px;
}

.level-and-belongings{
  text-align: left;
  margin-bottom: 30px;
}

.level,
.belongings,
.personality {
  font-size: 14px;
  padding: 3px 5px;
}

.level,
.belongings,
.personality {
    margin: 0 5px;
}

.graph {
  display: flex;
  justify-content: center;
  margin-top: 20px;
  border: 3px solid black;
  border-radius: 10px;             /* 角丸 */
  box-shadow: 0 4px 6px #0003; 
  margin-bottom: 50px;
  padding: 30px;
}

.line-by-line {
  display: flex;
  gap: 25px;
  font-size: 20px;
}

.tooltip-wrapper {
  position: relative;
  display: inline-block;
}

.tooltip {
  position: absolute;
  bottom: 120%;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.85);
  color: #fff;
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 12px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s;
}

.tooltip-wrapper:hover .tooltip {
  opacity: 1;
}

.graph-toggle {
  display: inline-flex;
  border: 2px solid #8884d8;
  border-radius: 9999px;
  overflow: hidden;
}

.toggle-btn {
  padding: 8px 20px;
  background: transparent;
  border: none;
  cursor: pointer;
  font-weight: bold;
  color: #555;
  transition: all 0.2s ease;
}

.toggle-btn:hover {
  background: rgba(136, 132, 216, 0.15);
}

.toggle-btn.active {
  background: #8884d8;
  color: white;
}

.monster-cards {
  display: flex;
  gap: 16px;
  justify-content: center;
  margin: 20px 0;
}

.monster-card {
  width: 160px;
  padding: 12px;
  border-radius: 16px;
  background: #f8f8f8;
  cursor: pointer;
  transition: all 0.25s ease;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  text-align: center;
}

.monster-card img {
  width: 100%;
  height: 120px;
  object-fit: cover;
  border-radius: 12px;
}

.monster-card h3 {
  margin: 8px 0 4px;
}

.mini-stats {
  font-size: 12px;
  display: flex;
  justify-content: space-around;
  opacity: 0.8;
}

/* ホバー */
.monster-card:hover {
  transform: translateY(-5px);
}

/* 選択中 */
.monster-card.active {
  border: 3px solid #6366f1;
  transform: scale(1.05);
  background: #eef2ff;
}
`;
document.getElementById("codeView2").textContent = code2;
</script>
</body>
</html>
